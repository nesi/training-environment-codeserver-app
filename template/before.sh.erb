# Export the module function if it exists

exec &> >(tee -a "pod.log")

# Export the module function if it exists
[[ $(type -t module) == "function" ]] && export -f module

# Find available port to run server on
export port=$(find_port ${host})

# Export compute node the script is running on
export host="${host}"

echo "host is: ${host}"
echo "port is: ${port}"

# Generate SHA1 encrypted password (requires OpenSSL installed)
#commenting this out to check whether this is the cause of the $PASSWORD variable not getting invoked correctly
export password="$(create_passwd 16)"

